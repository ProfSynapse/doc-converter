# Railway Configuration for Flask Backend

[build]
builder = "DOCKERFILE"

[deploy]
startCommand = "sh -c 'flask db upgrade && gunicorn --bind 0.0.0.0:$PORT --workers 2 --threads 2 --timeout 30 wsgi:app'"
healthcheckPath = "/health"
healthcheckTimeout = 10
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

[env]
FLASK_ENV = { default = "production" }
# SECRET_KEY - Set this in Railway dashboard (64+ char random string)
# DATABASE_URL - Reference: ${{Postgres.DATABASE_URL}}
# GOOGLE_OAUTH_CLIENT_ID - Optional, for Google Docs conversion
# GOOGLE_OAUTH_CLIENT_SECRET - Optional, for Google Docs conversion
